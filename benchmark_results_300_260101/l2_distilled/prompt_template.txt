================================================================================
EXPERIMENT: l2_distilled (L2 - @distilled Python-First)
================================================================================

DESCRIPTION:
Python-first approach that tries pure Python extraction and calculation,
falling back to LLM only when Python can't handle the case.

Implemented Python calculators:
- BMI (Body Mass Index)
- eGFR (Estimated Glomerular Filtration Rate)

For other calculators, falls back to L1 ptool.

================================================================================
PYTHON EXTRACTION PATTERNS
================================================================================

Age patterns:
- r'(\d+)\s*(?:year|yr|y/?o|years?\s*old)'
- r'age[:\s]+(\d+)'
- r'(\d+)\s*yo\b'

Weight patterns (kg):
- r'(\d+\.?\d*)\s*kg'
- r'weight[:\s]+(\d+\.?\d*)'
- r'(\d+\.?\d*)\s*kilograms?'

Height patterns (m):
- r'(\d+\.?\d*)\s*cm' (converted to m)
- r'(\d+\.?\d*)\s*m(?:eters?)?'

Creatinine patterns:
- r'creatinine[:\s]+(\d+\.?\d*)'
- r'cr[:\s]+(\d+\.?\d*)'
- r'(\d+\.?\d*)\s*mg/dL'

================================================================================
CALCULATION FORMULAS
================================================================================

BMI = weight_kg / (height_m ** 2)

eGFR (CKD-EPI 2021):
  Female, Cr <= 0.7: 142 * (Cr/0.7)^-0.241 * 0.9938^age * 1.012
  Female, Cr > 0.7:  142 * (Cr/0.7)^-1.200 * 0.9938^age * 1.012
  Male, Cr <= 0.9:   142 * (Cr/0.9)^-0.302 * 0.9938^age
  Male, Cr > 0.9:    142 * (Cr/0.9)^-1.200 * 0.9938^age
